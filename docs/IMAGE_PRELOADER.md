# 画像プリローダー・ローディング画面実装

## 概要
サイトの画像を事前に読み込み、ローディング中はロゴを表示する機能を実装しました。すべての画像が読み込まれてからサイトのアニメーションが開始されます。

## 実装した機能

### 1. 画像プリローダーシステム
- **useImageLoader Hook** (`src/hooks/useImageLoader.ts`)
  - 画像の読み込み状況を管理
  - 優先画像（重要な画像）を先に読み込む機能
  - プログレス状況の追跡

### 2. ローディング画面
- **LoadingScreen Component** (`src/components/LoadingScreen.tsx`)
  - ロゴの表示（`/assets/logo/logo.svg`）
  - プログレスバーとパーセント表示
  - アニメーション効果（ローディングドット、フェードアウト）

### 3. 画像プリローダーコンポーネント
- **ImagePreloader Component** (`src/components/ImagePreloader.tsx`)
  - ローディング画面とメインコンテンツの切り替え
  - スムーズなフェードアウト効果
  - 優先画像の指定

### 4. 画像管理システム
- **画像定数管理** (`src/constants/images.ts`)
  - サイト全体で使用される画像パスの一元管理
  - ページ別画像リストの取得
  - 重要な画像（ロゴ、メインスライダー）の優先設定

### 5. ImageSlider の改良
- **アニメーション制御** (`src/components/ImageSlider.tsx`)
  - `startAnimation` プロパティによる制御
  - 画像読み込み完了後にアニメーション開始
  - より良いユーザーエクスペリエンス

## 使用方法

### 基本的な流れ
1. アプリ起動時に `ImagePreloader` がすべての画像を読み込み開始
2. ローディング画面でロゴとプログレスバーを表示
3. 優先画像（ロゴ、メインスライダー画像）を先に読み込み
4. すべての画像読み込み完了後、フェードアウト効果でローディング画面を隠す
5. メインコンテンツ表示と同時にImageSliderのアニメーション開始

### カスタマイズ可能な要素
- **プログレス表示の有無** (`showProgress`)
- **ローディング画面のスタイル** (`className`)
- **優先画像の指定** (`priorityImages`)
- **フェードアウト効果** (`fadeOut`)

## パフォーマンス最適化

### 実装した最適化
1. **優先読み込み**: 重要な画像を先に読み込み
2. **sessionStorage活用**: 画像読み込み完了状態の保存
3. **プリロード制御**: 必要な画像のみを対象
4. **エラーハンドリング**: 読み込み失敗時の適切な処理

### 読み込み対象画像
- スライダー画像（6枚）
- コンセプト画像（2枚）
- 食事画像（2枚）
- 宿泊施設画像（3枚）
- アクセス画像（4枚）
- プロフィール画像（2枚）
- ロゴ画像（2枚）

## ユーザーエクスペリエンスの向上

### 実装した改善点
1. **視覚的フィードバック**: プログレスバーとパーセント表示
2. **ブランディング**: ローディング中もロゴを表示
3. **スムーズな遷移**: フェードアウト効果
4. **レスポンシブ対応**: デバイスに関係なく動作
5. **アクセシビリティ**: 適切なalt属性とaria-label

## ファイル構成

```
src/
├── components/
│   ├── LoadingScreen.tsx        # ローディング画面UI
│   ├── ImagePreloader.tsx       # プリローダー制御
│   └── ImageSlider.tsx          # 改良されたスライダー
├── hooks/
│   └── useImageLoader.ts        # 画像読み込みロジック
├── constants/
│   └── images.ts                # 画像パス管理
└── App.tsx                      # メインアプリケーション
```

## 動作確認
開発サーバー（http://localhost:5174/）でローディング画面の動作と画像読み込み完了後のスムーズな遷移を確認できます。
