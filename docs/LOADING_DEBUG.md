# ローディング画面のデバッグガイド

## 問題の解決

### 1. 無限ローディングの問題
以下の修正を行いました：

- **不正な画像パスの修正**: `/public/assets/logo/favicon.svg` → `/assets/logo/favicon.svg`
- **タイムアウト機能の追加**: 5秒でタイムアウト（開発時）
- **詳細なログ出力**: コンソールで読み込み状況を確認可能

### 2. 開発時のデバッグ方法

#### A. ローディングをスキップする
開発時にローディング画面をスキップしたい場合：
```
http://localhost:5174/?skipLoading=true
```

#### B. コンソールログの確認
ブラウザの開発者ツールで以下のログを確認できます：
- 🚀 読み込み開始
- 🔥 優先画像リスト
- 📦 通常画像リスト
- 🔄 各画像の読み込み開始
- ✅ 読み込み成功
- ❌ 読み込み失敗
- 📊 進捗状況
- 🎉 全画像読み込み完了
- ⏰ タイムアウト警告

#### C. ネットワークタブの確認
開発者ツールのNetworkタブで：
- 各画像ファイルの読み込み状況
- 404エラーの画像がないか確認
- 読み込み時間が異常に長くないか確認

### 3. トラブルシューティング

#### 問題: ローディングが止まらない
**解決方法:**
1. コンソールログを確認
2. 404エラーの画像がないか確認
3. タイムアウト（5秒）まで待つ
4. `?skipLoading=true` でスキップ

#### 問題: 画像が表示されない
**解決方法:**
1. `public` フォルダに画像が存在するか確認
2. パスが正しいか確認（`/images/...` 形式）
3. ファイル名の大文字小文字が正確か確認

#### 問題: ローディングが遅い
**解決方法:**
1. 画像ファイルサイズを確認
2. 不要な画像を除外
3. WebPフォーマットの使用を検討

### 4. 設定の調整

#### タイムアウト時間の変更
`src/App.tsx` の `timeout` 値を調整：
```typescript
timeout={5000} // ミリ秒単位
```

#### 優先画像の設定
`src/constants/images.ts` の `getCriticalImages()` で重要な画像を指定：
```typescript
export const getCriticalImages = (): string[] => {
  return [
    ...siteImages.logos,
    ...siteImages.slider.slice(0, 3), // 最初の3枚のスライダー画像
  ];
};
```

### 5. 本番環境での注意点

- タイムアウト時間を長めに設定（10-15秒）
- 画像の最適化（WebP、適切なサイズ）
- CDNの使用を検討
- プリロード用の軽量画像セットの作成

### 6. 現在の設定

**読み込み対象画像:**
- スライダー画像: 6枚
- コンセプト画像: 2枚
- 食事画像: 2枚
- 宿泊施設画像: 3枚
- アクセス画像: 4枚
- プロフィール画像: 2枚
- ロゴ画像: 1枚

**総計: 20枚の画像**
